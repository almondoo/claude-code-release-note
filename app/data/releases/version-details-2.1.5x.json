{
  "2.1.50": [
    {
      "t": "追加: LSP サーバーの `startupTimeout` 設定のサポート",
      "tags": ["新機能"],
      "detail": "Language Server Protocol（LSP）サーバーの起動タイムアウトを `startupTimeout` 設定で構成できるようになりました。LSP サーバーの起動に時間がかかる環境や遅いマシンでも、適切なタイムアウト値を設定することで接続待機時間をコントロールできます。",
      "category": "IDE"
    },
    {
      "t": "追加: `WorktreeCreate` / `WorktreeRemove` フックイベント（エージェント worktree 分離の作成・削除時に発火）",
      "tags": ["新機能", "Agent"],
      "detail": "エージェントの worktree 分離機能と連携する新しいフックイベント `WorktreeCreate` と `WorktreeRemove` が追加されました。エージェントが分離された git worktree を作成・削除するタイミングでカスタムセットアップやティアダウン処理を実行できます。CI/CD パイプラインや独自の VCS 管理フローとの統合に活用できます。",
      "category": "マルチエージェント"
    },
    {
      "t": "追加: エージェント定義での `isolation: \"worktree\"` サポート（エージェントが分離された git worktree で宣言的に実行可能に）",
      "tags": ["新機能", "Agent"],
      "detail": "エージェント定義ファイル（`.claude/agents/`）に `isolation: \"worktree\"` を記述するだけで、そのエージェントが常に分離された git worktree 内で実行されるようになりました。エージェントを呼び出すたびにオプションを指定する必要がなく、並行エージェント作業や実験的な変更のリスクを大幅に軽減できます。",
      "category": "マルチエージェント"
    },
    {
      "t": "追加: `claude agents` CLI コマンドによる設定済みエージェント一覧表示",
      "tags": ["新機能", "Agent"],
      "detail": "`claude agents` コマンドを実行すると、プロジェクトやユーザー設定で定義されたエージェントの一覧が表示されるようになりました。利用可能なエージェントを手軽に確認でき、チーム開発でのエージェント管理が容易になります。",
      "category": "マルチエージェント"
    },
    {
      "t": "追加: `CLAUDE_CODE_DISABLE_1M_CONTEXT` 環境変数による 1M コンテキストウィンドウサポートの無効化",
      "tags": ["新機能"],
      "detail": "`CLAUDE_CODE_DISABLE_1M_CONTEXT=1` を設定することで、1M トークンのコンテキストウィンドウを無効化できるようになりました。コスト管理やレイテンシ最適化のために意図的に小さなコンテキストウィンドウを使用したい場合や、1M コンテキスト非対応の環境との互換性維持に活用できます。",
      "category": "設定"
    },
    {
      "t": "VSCode: 追加: VS Code セッションでの `/extra-usage` コマンドサポート",
      "tags": ["新機能", "IDE"],
      "detail": "VS Code 拡張機能のセッション内で `/extra-usage` コマンドが使用できるようになりました。このコマンドにより、現在のセッションの追加 API 使用状況（キャッシュ書き込み/読み込みトークン数など）を VS Code 上でも確認できます。",
      "category": "IDE"
    },
    {
      "t": "改善: Opus 4.6 (fast mode) で完全な 1M コンテキストウィンドウをサポート",
      "tags": ["改善"],
      "detail": "Opus 4.6 の fast mode（高速モード）が完全な 1M トークンのコンテキストウィンドウをサポートするようになりました。高速なレスポンス速度を維持しながら、大規模なコードベースや長い会話履歴を扱えるようになります。",
      "category": "パフォーマンス"
    },
    {
      "t": "改善: `CLAUDE_CODE_SIMPLE` モードが MCP ツール・添付ファイル・フック・CLAUDE.md の読み込みも無効化し、完全ミニマル体験を実現",
      "tags": ["改善"],
      "detail": "`CLAUDE_CODE_SIMPLE=1` で有効化されるシンプルモードが大幅に強化されました。スキル・セッションメモリ・カスタムエージェントに加え、MCP ツール、添付ファイル、フック、CLAUDE.md ファイルの読み込みもすべて無効化されます。最低限の機能だけを使いたい軽量環境や、セキュリティ要件で機能を制限したい場合に最適です。",
      "category": "設定"
    },
    {
      "t": "改善: コンパクション後に内部キャッシュをクリアして長時間セッションのメモリ使用量を改善",
      "tags": ["改善", "Perf"],
      "detail": "コンテキストコンパクション（長い会話を圧縮する処理）が完了した後に、不要になった内部キャッシュを自動的にクリアするようになりました。長時間セッションでの無駄なメモリ保持が解消され、連続作業時のメモリ効率が向上します。",
      "category": "パフォーマンス"
    },
    {
      "t": "改善: 処理済みの大きなツール結果をクリアして長時間セッションのメモリ使用量を改善",
      "tags": ["改善", "Perf"],
      "detail": "ファイル読み込みや検索など、大きなデータを返すツールの結果を処理後にメモリから解放するようになりました。特に大量のファイル操作を行う長時間セッションでのメモリ使用量が大幅に削減されます。",
      "category": "パフォーマンス"
    },
    {
      "t": "改善: Yoga WASM と UI コンポーネントのインポートを遅延化してヘッドレスモード (`-p` フラグ) の起動パフォーマンスを向上",
      "tags": ["改善", "Perf"],
      "detail": "ヘッドレスモード（`-p` フラグ）では UI を表示しないため、Yoga WASM レイアウトエンジンと UI コンポーネントの読み込みを起動時から遅延化しました。これにより、スクリプトや CI/CD 環境での `-p` モード実行の起動時間が短縮されます。",
      "category": "パフォーマンス"
    },
    {
      "t": "修正: 作業ディレクトリにシンボリックリンクが含まれる場合に再開したセッションが表示されない問題",
      "tags": ["バグ修正"],
      "detail": "作業ディレクトリのパスにシンボリックリンクが含まれる場合、起動時にセッションストレージパスの解決タイミングが異なることで、`--resume` でセッションが見えなくなる問題が修正されました。シンボリックリンクを含む環境（Docker ボリューム、NFS マウントなど）でもセッション継続が正しく機能します。",
      "category": "会話管理"
    },
    {
      "t": "修正: SSH 切断時にシャットダウンシーケンスでセッションデータが失われる問題",
      "tags": ["バグ修正"],
      "detail": "SSH 接続が切断されたときのグレースフルシャットダウン処理で、フックや分析の実行前にセッションデータがフラッシュされるように修正されました。これにより、リモートセッション中に突然の切断が発生しても、会話の続きを再開できるようになります。",
      "category": "会話管理"
    },
    {
      "t": "修正: Linux で glibc 2.30 より古いシステム（RHEL 8 など）でネイティブモジュールが読み込まれない問題",
      "tags": ["バグ修正", "Platform"],
      "detail": "glibc 2.30 より古いバージョンを使用する Linux システム（RHEL 8、CentOS 8 など）でネイティブモジュールが読み込まれず、Claude Code が正常に動作しない問題が修正されました。エンタープライズ環境や古い LTS ディストリビューションでの動作が改善されます。",
      "category": "プラットフォーム互換性"
    },
    {
      "t": "修正: エージェントチームで完了したチームメイトのタスクがセッション状態からガベージコレクトされないメモリリーク",
      "tags": ["バグ修正", "Agent", "Perf"],
      "detail": "マルチエージェント（チーム）を使用する際、完了したチームメイトのタスクデータがセッション状態から解放されず、長時間のマルチエージェント作業でメモリが増大し続ける問題が修正されました。多数のサブエージェントを使う大規模な自動化ワークフローでの安定性が向上します。",
      "category": "マルチエージェント"
    },
    {
      "t": "修正: `CLAUDE_CODE_SIMPLE` がスキル・セッションメモリ・カスタムエージェント・CLAUDE.md トークンカウントを完全に除去しない問題",
      "tags": ["バグ修正"],
      "detail": "`CLAUDE_CODE_SIMPLE` モードを有効にしても、スキル、セッションメモリ、カスタムエージェントの読み込みや CLAUDE.md のトークンカウントが完全に無効化されていなかった問題が修正されました。シンプルモードが本当に最小限の構成で動作するようになります。",
      "category": "設定"
    },
    {
      "t": "修正: 存在しないサーバー名を指定した場合に `/mcp reconnect` が CLI をフリーズさせる問題",
      "tags": ["バグ修正", "MCP"],
      "detail": "`/mcp reconnect <サーバー名>` で存在しないサーバー名を指定した場合、CLI が無応答になりフリーズする問題が修正されました。適切なエラーメッセージが表示されるようになり、誤ったサーバー名を入力した際にも操作を継続できます。",
      "category": "MCP 連携"
    },
    {
      "t": "修正: 完了したタスク状態オブジェクトが AppState から削除されないメモリリーク",
      "tags": ["バグ修正", "Perf"],
      "detail": "バックグラウンドタスクが完了した後も、タスクの状態オブジェクトがアプリケーション状態（AppState）から削除されず、セッションを通じてメモリが増加し続ける問題が修正されました。長時間のセッションで多数のタスクを実行する場合のメモリ効率が向上します。",
      "category": "パフォーマンス"
    },
    {
      "t": "修正: ツール検索が有効でプロンプトが起動引数として渡された際に MCP ツールが検出されない問題",
      "tags": ["バグ修正", "MCP"],
      "detail": "ツール検索（tool search）機能が有効な状態で、`-p` フラグでプロンプトを起動引数として渡す場合、MCP サーバーのツールが正しく検出されない問題が修正されました。ヘッドレスモードでも MCP ツールが使用できるようになります。",
      "category": "MCP 連携"
    },
    {
      "t": "修正: LSP 診断データが配信後にクリーンアップされず長時間セッションでメモリが無制限増大する問題",
      "tags": ["バグ修正", "Perf"],
      "detail": "Language Server Protocol から受信した診断データ（エラーや警告の情報）が、IDE に配信された後もメモリから解放されず、長時間のコーディングセッションでメモリ使用量が増加し続ける問題が修正されました。大規模プロジェクトでの長時間作業が安定して行えるようになります。",
      "category": "パフォーマンス"
    },
    {
      "t": "修正: 完了したタスク出力がメモリから解放されないメモリリーク（多タスクの長時間セッションのメモリ使用量削減）",
      "tags": ["バグ修正", "Perf"],
      "detail": "タスクが完了した後も、そのタスクの出力データがメモリに保持され続けるメモリリークが修正されました。多数のタスクを実行する長時間セッション（大規模なコードベース解析や自動化ワークフロー）でのメモリ使用量が大幅に削減されます。",
      "category": "パフォーマンス"
    },
    {
      "t": "修正: プロンプト提案キャッシュのリグレッションによりキャッシュヒット率が低下する問題",
      "tags": ["バグ修正", "Perf"],
      "detail": "プロンプトキャッシュ（API コストとレイテンシを削減するためのキャッシュ機構）のヒット率が低下するリグレッションが修正されました。正しいキャッシュ動作が復元され、繰り返し使用するプロンプトでの API コストとレスポンス速度が改善されます。",
      "category": "パフォーマンス"
    },
    {
      "t": "修正: ファイル履歴スナップショットの上限設定により長時間セッションでのメモリ無制限増大を修正",
      "tags": ["バグ修正", "Perf"],
      "detail": "ファイル編集履歴のスナップショットが際限なく蓄積され、長時間セッションでメモリが増大し続ける問題が修正されました。スナップショット数に上限が設けられ、古いスナップショットが自動的に破棄されるようになったことで、メモリ使用量が安定します。",
      "category": "パフォーマンス"
    },
    {
      "t": "修正: TaskOutput クリーンアップ後も最近の行が保持されるメモリリーク",
      "tags": ["バグ修正", "Perf"],
      "detail": "TaskOutput オブジェクトのクリーンアップ処理が不完全で、最近の出力行がメモリに残り続ける問題が修正されました。タスクの出力が多い場合やタスク数が多い長時間セッションでのメモリ効率が向上します。",
      "category": "パフォーマンス"
    },
    {
      "t": "修正: CircularBuffer でクリアされたアイテムがバッキング配列に保持されるメモリリーク",
      "tags": ["バグ修正", "Perf"],
      "detail": "循環バッファ（CircularBuffer）のクリア操作後も、内部のバッキング配列に古いアイテムへの参照が残りガベージコレクションされない問題が修正されました。バッファのメモリが適切に解放されるようになり、長時間セッションでのメモリ消費が改善されます。",
      "category": "パフォーマンス"
    },
    {
      "t": "修正: シェルコマンド実行で ChildProcess と AbortController 参照がクリーンアップ後も保持されるメモリリーク",
      "tags": ["バグ修正", "Perf"],
      "detail": "シェルコマンド実行後に ChildProcess オブジェクトと AbortController への参照がクリーンアップされず、メモリリークが発生していた問題が修正されました。Bash ツールを多用する長時間セッションでのメモリ使用量が改善されます。",
      "category": "パフォーマンス"
    }
  ]
}
