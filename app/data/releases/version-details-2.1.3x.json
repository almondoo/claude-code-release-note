{
  "2.1.30": [
    {
      "t": "追加: Read ツールに PDF 用 pages パラメータで特定のページ範囲を読み取り可能（例: pages: \"1-5\"）。大きな PDF（10 ページ超）は @メンション時にコンテキストへのインライン化の代わりに軽量な参照を返す",
      "tags": ["新機能"],
      "detail": "Read ツールに `pages` パラメータが追加され、PDF ファイルの特定ページ範囲を指定して読み取れるようになりました。例えば `pages: \"1-5\"` と指定すると最初の5ページだけを読み込みます。また、10ページを超える大きな PDF を `@` でメンションした場合、全ページをコンテキストにインライン展開する代わりに軽量な参照情報のみを返すようになり、コンテキストウィンドウの消費を大幅に抑えられます。これにより、大規模なドキュメントを扱う際のトークン効率が向上しました。",
      "category": "ツール改善"
    },
    {
      "t": "追加: Dynamic Client Registration をサポートしない MCP サーバー（例: Slack）向けの事前設定済み OAuth クライアント資格情報（claude mcp add で --client-id と --client-secret を使用）",
      "tags": ["新機能", "MCP"],
      "detail": "MCP（Model Context Protocol）サーバーの中には、OAuth の Dynamic Client Registration（DCR）に対応していないものがあります（例: Slack）。この変更により、`claude mcp add` コマンドに `--client-id` と `--client-secret` オプションが追加され、事前に取得した OAuth クライアント資格情報を直接指定できるようになりました。これにより、DCR 非対応の MCP サーバーとも簡単に OAuth 認証を行えます。",
      "category": "MCP 連携"
    },
    {
      "t": "追加: /debug で Claude が現在のセッションのトラブルシューティングを支援",
      "tags": ["新機能"],
      "detail": "新しい `/debug` スラッシュコマンドが追加されました。実行すると、Claude が現在のセッション状態を分析し、問題の診断や解決策の提案を行います。設定の不整合、MCP サーバーの接続問題、パーミッション設定のトラブルなど、様々な問題のトラブルシューティングに活用できます。",
      "category": "コマンド"
    },
    {
      "t": "追加: 読み取り専用モードで追加の git log と git show フラグのサポート（例: --topo-order, --cherry-pick, --format, --raw）",
      "tags": ["新機能"],
      "detail": "読み取り専用モード（plan モード等）で使用できる git コマンドのフラグが拡張されました。`--topo-order`（トポロジカル順序での表示）、`--cherry-pick`（チェリーピック対象の特定）、`--format`（出力フォーマットのカスタマイズ）、`--raw`（生データの表示）などのフラグが新たにサポートされ、コードを変更せずにリポジトリの履歴をより詳細に調査できるようになりました。",
      "category": "Git 連携"
    },
    {
      "t": "追加: Task ツールの結果にトークン数、ツール使用回数、所要時間のメトリクスを追加",
      "tags": ["新機能"],
      "detail": "Task ツール（サブエージェント起動）の実行結果に、消費トークン数（`total_tokens`）、ツール使用回数（`tool_uses`）、所要時間（`duration_ms`）が含まれるようになりました。これにより、サブエージェントのコスト・パフォーマンスを把握しやすくなり、ワークフローの最適化に役立ちます。",
      "category": "サブエージェント"
    },
    {
      "t": "追加: 設定にモーション軽減モード",
      "tags": ["新機能"],
      "detail": "アニメーションや動きの効果を抑制するモーション軽減モードが設定として追加されました。OS レベルの `prefers-reduced-motion` 設定に加えて、Claude Code 独自の設定としてモーション軽減を有効にできます。アニメーションが気になるユーザーや、低スペック環境での使用に適しています。",
      "category": "アクセシビリティ"
    },
    {
      "t": "修正: API 会話履歴に表示されるファントム \"(no content)\" テキストブロック（トークンの無駄とモデルの混乱を削減）",
      "tags": ["バグ修正"],
      "detail": "API に送信される会話履歴に、内容のない「(no content)」テキストブロックが含まれる問題が修正されました。これらのファントムブロックはトークンを無駄に消費するだけでなく、モデルの応答品質にも悪影響を与えていました。修正により、会話履歴がクリーンになり、トークン効率とモデルの理解精度が向上しました。",
      "category": "API"
    },
    {
      "t": "修正: ツール名の変更時のみ無効化され、ツール説明や入力スキーマの変更時には正しく無効化されないプロンプトキャッシュ",
      "tags": ["バグ修正"],
      "detail": "プロンプトキャッシュがツール名の変更時にのみ無効化され、ツールの説明文や入力スキーマが変更された場合には古いキャッシュが使い続けられる問題が修正されました。この修正により、MCP サーバーのツール定義が更新された場合でも、常に最新の情報が使われるようになります。",
      "category": "キャッシュ"
    },
    {
      "t": "修正: thinking ブロックを含む会話で /login 実行後に発生する 400 エラー",
      "tags": ["バグ修正"],
      "detail": "拡張 thinking（extended thinking）が有効な会話中に `/login` コマンドを実行すると、その後の API リクエストで 400 エラーが発生する問題が修正されました。thinking ブロックを含む会話状態と認証フローの間の不整合が原因でした。",
      "category": "認証"
    },
    {
      "t": "修正: parentUuid サイクルを含む破損したトランスクリプトファイルでのセッション再開時のハング",
      "tags": ["バグ修正"],
      "detail": "セッションの再開（`--resume`）時に、トランスクリプトファイルの `parentUuid` に循環参照が含まれている場合にハングアップする問題が修正されました。破損したファイルを検出し、適切にエラーハンドリングを行うようになりました。",
      "category": "セッション管理"
    },
    {
      "t": "修正: Max 20x ユーザーで extra-usage が利用不可の場合にレート制限メッセージが誤った \"/upgrade\" を提案する問題",
      "tags": ["バグ修正"],
      "detail": "Max 20x プランのユーザーがレート制限に達した際、extra-usage（追加使用量）が利用できないにもかかわらず「/upgrade」を提案する不適切なメッセージが表示されていました。修正後は、ユーザーのプランと利用可能なオプションに応じた適切なメッセージが表示されます。",
      "category": "UX"
    },
    {
      "t": "修正: アクティブにタイプ中にパーミッションダイアログがフォーカスを奪う問題",
      "tags": ["バグ修正"],
      "detail": "ユーザーがテキストを入力中にパーミッション確認ダイアログが表示されると、入力フィールドからフォーカスが奪われてしまう問題が修正されました。ダイアログが表示されてもユーザーの入力フローが中断されないようになりました。",
      "category": "UX"
    },
    {
      "t": "修正: SDK 提供の MCP ツールが共有アプリケーション状態に同期されないため、サブエージェントがアクセスできない問題",
      "tags": ["SDK", "バグ修正", "MCP", "Agent"],
      "detail": "Claude Agent SDK 経由で提供された MCP ツールが、共有アプリケーション状態に正しく同期されていなかったため、Task ツールで起動したサブエージェントがこれらのツールにアクセスできない問題が修正されました。SDK ベースのアプリケーションでマルチエージェントワークフローを構築する際に重要な修正です。",
      "category": "SDK"
    },
    {
      "t": "修正: .bashrc ファイルを持つ Windows ユーザーが bash コマンドを実行できないリグレッション",
      "tags": ["Platform", "Windows", "バグ修正"],
      "detail": "Windows 環境で `.bashrc` ファイルが存在する場合に bash コマンドの実行が失敗するリグレッションが修正されました。以前のバージョンでのシェル初期化処理の変更が原因で、Windows 特有のパス解決に問題が生じていました。",
      "category": "プラットフォーム互換性"
    },
    {
      "t": "改善: --resume のメモリ使用量を 68% 削減（セッションインデックスを軽量な stat ベースの読み込みとプログレッシブエンリッチメントに置き換え）",
      "tags": ["Perf", "改善"],
      "detail": "セッション再開（`--resume`）時のメモリ使用量を 68% 削減しました。従来はセッションインデックス全体をメモリに読み込んでいましたが、ファイルシステムの stat 情報を使った軽量な読み込みに置き換え、必要に応じて追加情報を段階的に取得する「プログレッシブエンリッチメント」方式を採用しました。多数のセッション履歴があるユーザーに特に効果的です。",
      "category": "パフォーマンス"
    },
    {
      "t": "改善: TaskStop ツールが汎用的な \"Task stopped\" メッセージの代わりに停止されたコマンド/タスクの説明を結果行に表示",
      "tags": ["改善"],
      "detail": "TaskStop ツールでバックグラウンドタスクを停止した際の結果メッセージが改善されました。以前は単に「Task stopped」と表示されるだけでしたが、停止されたコマンドやタスクの説明（例:「Running pytest...」）が表示されるようになり、どのタスクを停止したかが一目でわかるようになりました。",
      "category": "UX"
    },
    {
      "t": "変更: /model がキューされる代わりに即座に実行されるように",
      "tags": ["改善"],
      "detail": "`/model` コマンドがキューに入って順番を待つのではなく、即座に実行されるようになりました。これにより、モデルの切り替えがより素早く行えるようになり、作業フローが改善されました。",
      "category": "コマンド"
    },
    {
      "t": "VSCode: 質問ダイアログの \"Other\" テキスト入力に複数行入力サポートを追加（Shift+Enter で改行）",
      "tags": ["IDE"],
      "detail": "VSCode 拡張機能の質問ダイアログ（AskUserQuestion ツール使用時）で、「Other」テキスト入力フィールドが複数行入力に対応しました。Shift+Enter で改行を挿入でき、より長い回答やコードスニペットの入力が可能になりました。",
      "category": "IDE"
    },
    {
      "t": "VSCode: 新しい会話を開始する際にセッションリストに重複セッションが表示される問題を修正",
      "tags": ["IDE", "バグ修正"],
      "detail": "VSCode 拡張機能で新しい会話を開始した際に、セッションリストに同じセッションが重複して表示される問題が修正されました。セッション作成のイベントハンドリングにおける重複登録が原因でした。",
      "category": "IDE"
    }
  ],
  "2.1.31": [
    {
      "t": "追加: 終了時にセッション再開ヒントを表示（後で会話を続ける方法を案内）",
      "tags": ["新機能"],
      "detail": "Claude Code の終了時に、セッションを後から再開する方法のヒントが表示されるようになりました。`claude --resume` コマンドを使って以前の会話を続けられることをユーザーに案内します。特に初めて使うユーザーにとって、セッション管理機能の発見性が向上します。",
      "category": "UX"
    },
    {
      "t": "追加: 日本語 IME からの全角（全角）スペース入力のチェックボックス選択でのサポート",
      "tags": ["新機能"],
      "detail": "チェックボックス選択画面（パーミッション確認等）で、日本語 IME からの全角スペース入力が選択操作として認識されるようになりました。日本語キーボードでは全角スペースが頻繁に使われるため、この対応により日本語ユーザーの操作性が大幅に向上します。",
      "category": "国際化"
    },
    {
      "t": "修正: PDF が大きすぎるエラーがセッションを永続的にロックアップし、新しい会話の開始が必要になる問題",
      "tags": ["バグ修正"],
      "detail": "大きすぎる PDF を処理しようとした際のエラーがセッションを永続的にロックアップさせ、会話の続行が不可能になる深刻な問題が修正されました。以前はこの状態に陥ると新しい会話を開始するしかありませんでしたが、修正後はエラーが適切にハンドリングされ、セッションの継続が可能になりました。",
      "category": "安定性"
    },
    {
      "t": "修正: サンドボックスモード有効時に bash コマンドが \"Read-only file system\" エラーで誤って失敗を報告する問題",
      "tags": ["バグ修正"],
      "detail": "サンドボックスモードが有効な場合に、一部の bash コマンドが「Read-only file system」というエラーメッセージで誤って失敗を報告する問題が修正されました。サンドボックスのファイルシステムマウント設定に問題があり、書き込みが許可されるべきディレクトリにも読み取り専用制限が適用されていたことが原因でした。",
      "category": "サンドボックス"
    },
    {
      "t": "修正: ~/.claude.json のプロジェクト設定にデフォルトフィールドが欠けている場合にプランモード開始後にセッションが使用不能になるクラッシュ",
      "tags": ["バグ修正"],
      "detail": "`~/.claude.json` の設定ファイルにプロジェクト設定のデフォルトフィールドが欠けている場合、プランモードに入った後にセッションがクラッシュして使用不能になる問題が修正されました。設定ファイルの読み込み時にデフォルト値が適切に補完されるようになりました。",
      "category": "設定"
    },
    {
      "t": "修正: ストリーミング API パスで temperatureOverride がサイレントに無視され、設定されたオーバーライドに関係なく全ストリーミング要求がデフォルト温度（1）を使用する問題",
      "tags": ["SDK", "バグ修正"],
      "detail": "Claude Agent SDK でストリーミング API を使用する際に、`temperatureOverride` パラメータがサイレントに無視され、常にデフォルトの温度（1）が使用される問題が修正されました。この修正により、SDK 利用者が意図した温度設定でモデルを呼び出せるようになります。特に、低い温度でより決定論的な応答を得たい場合や、高い温度で創造的な応答を得たい場合に重要な修正です。",
      "category": "SDK"
    },
    {
      "t": "修正: null パラメータを拒否する厳密な言語サーバーとの LSP シャットダウン/終了の互換性",
      "tags": ["バグ修正"],
      "detail": "LSP（Language Server Protocol）のシャットダウンおよび終了リクエストで、パラメータとして `null` を送信していたため、厳密な実装のランゲージサーバーが拒否する問題が修正されました。LSP 仕様に準拠した形でリクエストが送信されるようになり、より多くのランゲージサーバーとの互換性が向上しました。",
      "category": "LSP"
    },
    {
      "t": "改善: 専用ツール（Read, Edit, Glob, Grep）を bash 相当（cat, sed, grep, find）の代わりに使用するようモデルをより明確にガイドするシステムプロンプト",
      "tags": ["改善"],
      "detail": "システムプロンプトが改善され、モデルが bash コマンド（cat, sed, grep, find）の代わりに専用ツール（Read, Edit, Glob, Grep）を優先的に使用するようガイドされるようになりました。専用ツールは、ユーザーに対してより明確な操作内容の表示が可能で、パーミッション管理も適切に行われるため、安全性と透明性が向上します。",
      "category": "システムプロンプト"
    },
    {
      "t": "改善: PDF と要求サイズのエラーメッセージに実際の制限を表示（100 ページ、20MB）",
      "tags": ["改善"],
      "detail": "PDF ファイルや API リクエストのサイズ制限に達した際のエラーメッセージが改善され、具体的な制限値（PDF: 最大100ページ、リクエスト: 最大20MB）が表示されるようになりました。以前は汎用的な「サイズが大きすぎます」というメッセージのみでしたが、ユーザーが対処法を判断しやすくなりました。",
      "category": "UX"
    },
    {
      "t": "ストリーミング中にスピナーが表示・非表示される際のレイアウトジッターを削減",
      "tags": ["改善"],
      "detail": "ストリーミングレスポンス中にスピナー（ローディングインジケータ）が表示・非表示を繰り返す際に、レイアウトがガタつく（ジッター）問題が軽減されました。スピナーの表示領域を事前に確保することで、コンテンツの位置が安定するようになりました。",
      "category": "UI"
    },
    {
      "t": "削除: サードパーティプロバイダー（Bedrock, Vertex, Foundry）ユーザー向けのモデルセレクターからの誤解を招く Anthropic API 価格設定",
      "tags": ["Platform", "改善"],
      "detail": "Bedrock、Vertex、Foundry などのサードパーティプロバイダーを使用しているユーザーのモデルセレクターから、Anthropic の直接 API 価格設定が削除されました。これらのプロバイダーは独自の価格体系を持つため、Anthropic API の価格を表示することは誤解を招く情報でした。",
      "category": "プラットフォーム互換性"
    }
  ],
  "2.1.32": [
    {
      "t": "Claude Opus 4.6 が利用可能に！",
      "tags": ["新機能"],
      "detail": "Claude の最新かつ最も高性能なモデル「Claude Opus 4.6」が利用可能になりました。Opus 4.6 は、複雑な推論、コード生成、長文理解など、あらゆる分野で大幅な性能向上を実現しています。Claude Code で `/model` コマンドを使用して Opus 4.6 に切り替えられます。",
      "category": "モデル"
    },
    {
      "t": "追加: マルチエージェントコラボレーションのための研究プレビュー版エージェントチーム機能（トークン集約型機能、CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS=1 の設定が必要）",
      "tags": ["新機能", "Agent"],
      "detail": "複数のエージェントが協調してタスクを遂行する「エージェントチーム」機能が研究プレビューとして導入されました。チームリーダーがタスクを分割し、専門化されたエージェント（リサーチャー、コーダー、テスターなど）に割り当てて並列に作業を進められます。環境変数 `CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS=1` を設定して有効化します。トークン消費が大きい機能のため、使用時はコストに注意が必要です。",
      "category": "マルチエージェント"
    },
    {
      "t": "Claude が作業中に自動的にメモリを記録・呼び出すように",
      "tags": ["新機能", "Agent"],
      "detail": "Claude Code が作業中に学んだことや重要なパターンを自動的にメモリファイルに記録し、以降の会話で参照するようになりました。メモリは `~/.claude/projects/` 配下に保存され、プロジェクト固有の知見（ビルド手順、コーディング規約、よくあるエラーとその解決法など）が蓄積されていきます。会話を重ねるほど、より効率的にサポートできるようになります。",
      "category": "メモリ"
    },
    {
      "t": "追加: メッセージセレクターに \"Summarize from here\"（部分的な会話要約を可能に）",
      "tags": ["新機能"],
      "detail": "メッセージセレクターに「Summarize from here」オプションが追加され、会話の途中から要約を開始できるようになりました。長い会話で特定のポイント以降の内容だけを要約したい場合に便利です。コンテキストウィンドウの効率的な活用にも貢献します。",
      "category": "会話管理"
    },
    {
      "t": "追加ディレクトリ（--add-dir）内の .claude/skills/ に定義されたスキルが自動的に読み込まれるように",
      "tags": ["新機能"],
      "detail": "`--add-dir` フラグで追加されたディレクトリ内の `.claude/skills/` に配置されたスキルファイルが自動的に読み込まれるようになりました。モノレポや複数プロジェクトを跨いで作業する際に、各ディレクトリのスキルを活用できます。",
      "category": "スキル"
    },
    {
      "t": "修正: サブディレクトリから実行時の @ ファイル補完で不正な相対パスが表示される問題",
      "tags": ["バグ修正"],
      "detail": "プロジェクトのサブディレクトリから Claude Code を実行した際に、`@` によるファイル補完機能が不正な相対パスを表示する問題が修正されました。例えば、`src/` ディレクトリ内で実行しても、ルートからの正しい相対パスが表示されるようになりました。",
      "category": "ファイル補完"
    },
    {
      "t": "更新: --resume で前の会話で指定された --agent 値をデフォルトで再利用",
      "tags": ["改善", "Agent"],
      "detail": "`--resume` でセッションを再開する際に、以前の会話で指定した `--agent` 値が自動的に再利用されるようになりました。カスタムエージェント設定を毎回指定し直す手間が省けます。",
      "category": "セッション管理"
    },
    {
      "t": "修正: heredoc に ${index + 1} のような JavaScript テンプレートリテラルが含まれる場合に Bash ツールが \"Bad substitution\" エラーをスローする問題",
      "tags": ["バグ修正"],
      "detail": "Bash ツールで heredoc を使用する際に、`${index + 1}` のような JavaScript テンプレートリテラル構文が含まれていると、bash がこれをシェル変数の展開として解釈し「Bad substitution」エラーを発生させる問題が修正されました。heredoc 内のテンプレートリテラルが適切にエスケープされるようになりました。",
      "category": "Bash ツール"
    },
    {
      "t": "スキル文字バジェットがコンテキストウィンドウに合わせてスケール（コンテキストの 2%）し、大きなコンテキストウィンドウを持つユーザーが切り詰めなしにより多くのスキル説明を閲覧可能",
      "tags": ["改善"],
      "detail": "スキルの説明テキストに割り当てられる文字数の上限（文字バジェット）が、コンテキストウィンドウサイズの 2% に動的にスケールするようになりました。大きなコンテキストウィンドウ（例: 200K トークン）を持つモデルでは、より多くのスキル説明を切り詰めなしに表示でき、スキルの選択精度が向上します。",
      "category": "スキル"
    },
    {
      "t": "修正: タイ語/ラオス語の母音記号（สระ า, ำ）が入力フィールドで正しくレンダリングされない問題",
      "tags": ["バグ修正"],
      "detail": "タイ語やラオス語で使用される特定の母音記号（สระ า、ำ など）が入力フィールドで正しく表示されない問題が修正されました。Unicode の結合文字の処理が改善され、東南アジア言語のテキスト入力が正しくレンダリングされるようになりました。",
      "category": "国際化"
    },
    {
      "t": "VSCode: 入力フィールドに先行テキストがある場合にスラッシュコマンドが誤って Enter 押下時に実行される問題を修正",
      "tags": ["IDE", "バグ修正"],
      "detail": "VSCode 拡張機能で、入力フィールドに先行テキストが存在する状態でスラッシュコマンドを入力して Enter を押すと、先行テキストが無視されてスラッシュコマンドのみが実行される問題が修正されました。先行テキストがある場合は通常のメッセージ送信として処理されるようになりました。",
      "category": "IDE"
    },
    {
      "t": "VSCode: 過去の会話リスト読み込み時のスピナーを追加",
      "tags": ["IDE"],
      "detail": "VSCode 拡張機能で過去の会話リストを読み込む際に、ローディングスピナーが表示されるようになりました。多数のセッション履歴がある場合にリスト表示に時間がかかることがあり、ユーザーに処理中であることを視覚的にフィードバックします。",
      "category": "IDE"
    }
  ],
  "2.1.33": [
    {
      "t": "修正: tmux でのエージェントチームメイトセッションのメッセージ送受信",
      "tags": ["バグ修正", "Agent"],
      "detail": "tmux ターミナルマルチプレクサ上でエージェントチーム機能を使用した際に、チームメイト間のメッセージ送受信が正しく動作しない問題が修正されました。tmux のセッション管理とプロセス間通信の互換性の問題が解消され、tmux ユーザーもエージェントチーム機能を問題なく利用できるようになりました。",
      "category": "マルチエージェント"
    },
    {
      "t": "修正: 現在のプランでエージェントチームが利用できないことに関する警告",
      "tags": ["バグ修正", "Agent"],
      "detail": "エージェントチーム機能が利用できないプランのユーザーに対して、不必要な警告メッセージが表示される問題が修正されました。利用可能な場合のみ関連メッセージが表示されるようになりました。",
      "category": "UX"
    },
    {
      "t": "追加: マルチエージェントワークフロー用の TeammateIdle と TaskCompleted フックイベント",
      "tags": ["新機能", "Agent"],
      "detail": "Hooks システムに `TeammateIdle` と `TaskCompleted` の2つの新しいイベントが追加されました。`TeammateIdle` はチームメイトエージェントがアイドル状態になった時に、`TaskCompleted` はタスクが完了した時に発火します。これにより、マルチエージェントワークフローの進捗を外部ツールやスクリプトで監視・連携できるようになりました。",
      "category": "マルチエージェント"
    },
    {
      "t": "追加: エージェントの \"tools\" frontmatter で Task(agent_type) 構文により生成可能なサブエージェントを制限するサポート",
      "tags": ["新機能", "Agent"],
      "detail": "エージェント定義ファイルの `tools` frontmatter で、`Task(agent_type)` 構文を使ってサブエージェントの種類を制限できるようになりました。例えば `Task(Explore)` と指定すると、そのエージェントは Explore タイプのサブエージェントのみ起動可能です。セキュリティと制御性が向上し、エージェントの権限を細かく管理できます。",
      "category": "エージェント設定"
    },
    {
      "t": "追加: エージェントに memory frontmatter フィールド（user, project, local スコープの永続メモリを有効化）",
      "tags": ["新機能", "Agent"],
      "detail": "エージェント定義ファイルに `memory` frontmatter フィールドが追加されました。`user`（ユーザー全体）、`project`（プロジェクト固有）、`local`（ローカルのみ）の3つのスコープでエージェントの永続メモリを有効化できます。エージェントが以前の会話で学んだ知見を次回以降も活用できるようになります。",
      "category": "エージェント設定"
    },
    {
      "t": "追加: スキル説明と /skills メニューにプラグイン名を表示（発見性の向上）",
      "tags": ["Plugin", "改善"],
      "detail": "スキルの説明文と `/skills` メニューにプラグイン名が表示されるようになりました。どのプラグインがどのスキルを提供しているかが明確になり、スキルの発見性と管理性が向上しました。",
      "category": "プラグイン"
    },
    {
      "t": "修正: モデルが拡張 thinking 中に新しいメッセージを送信すると thinking フェーズが中断される問題",
      "tags": ["バグ修正"],
      "detail": "モデルが拡張 thinking（extended thinking）を行っている最中にユーザーが新しいメッセージを送信すると、thinking フェーズが途中で中断されてしまう問題が修正されました。思考中のメッセージ送信がキューされるようになり、thinking の完了後に処理されます。",
      "category": "Extended Thinking"
    },
    {
      "t": "修正: ストリーミング中の中断時に空白テキストが thinking ブロックと組み合わさり正規化をバイパスして無効なリクエストが生成される API エラー",
      "tags": ["バグ修正"],
      "detail": "ストリーミング中に処理が中断された場合、空白のみのテキストブロックと thinking ブロックが組み合わさった不正な状態が生じ、API の入力正規化をバイパスして無効なリクエストが送信される問題が修正されました。中断後の会話状態が適切にクリーンアップされるようになりました。",
      "category": "API"
    },
    {
      "t": "修正: ストリーミングエンドポイントの 404 エラーが非ストリーミングフォールバックをトリガーしないよう API プロキシ互換性を修正",
      "tags": ["バグ修正"],
      "detail": "API プロキシ環境で、ストリーミングエンドポイントが 404 エラーを返した場合に非ストリーミングフォールバックがトリガーされる問題が修正されました。プロキシがストリーミングをサポートしていない場合の適切なエラーハンドリングが実装されました。",
      "category": "API プロキシ"
    },
    {
      "t": "修正: settings.json 環境変数で設定されたプロキシ設定が Node.js ビルドの WebFetch やその他の HTTP リクエストに適用されない問題",
      "tags": ["バグ修正"],
      "detail": "`settings.json` の環境変数（`HTTP_PROXY`、`HTTPS_PROXY` など）で設定されたプロキシ設定が、Node.js ビルドの WebFetch ツールやその他の HTTP リクエストに正しく適用されない問題が修正されました。企業ネットワーク内でプロキシ経由でアクセスする必要のある環境で重要な修正です。",
      "category": "ネットワーク"
    },
    {
      "t": "修正: /resume セッションピッカーがスラッシュコマンドで開始されたセッションにクリーンなタイトルの代わりに生の XML マークアップを表示する問題",
      "tags": ["バグ修正"],
      "detail": "`/resume` コマンドのセッションピッカーで、スラッシュコマンド（例: `/commit`）で開始されたセッションのタイトルが、クリーンなテキストの代わりに生の XML マークアップ（`<command-name>` タグなど）で表示される問題が修正されました。セッションタイトルが適切にサニタイズされるようになりました。",
      "category": "セッション管理"
    },
    {
      "t": "改善: API 接続失敗のエラーメッセージ（汎用的な \"Connection error\" の代わりに具体的な原因（例: ECONNREFUSED, SSL エラー）を表示）",
      "tags": ["改善"],
      "detail": "API への接続失敗時のエラーメッセージが改善されました。以前は汎用的な「Connection error」としか表示されませんでしたが、`ECONNREFUSED`（接続拒否）、SSL 証明書エラー、DNS 解決失敗など、具体的な原因が表示されるようになりました。トラブルシューティングが格段に容易になります。",
      "category": "エラーハンドリング"
    },
    {
      "t": "無効な管理設定からのエラーが表示されるように",
      "tags": ["改善"],
      "detail": "管理設定（managed settings）に無効な値が含まれている場合のエラーが、サイレントに無視されるのではなく、ユーザーに表示されるようになりました。設定の問題を早期に発見・修正できます。",
      "category": "設定"
    },
    {
      "t": "VSCode: リモートセッションのサポートを追加（OAuth ユーザーが claude.ai からのセッションを閲覧・再開可能）",
      "tags": ["新機能", "IDE"],
      "detail": "VSCode 拡張機能にリモートセッション機能が追加されました。OAuth 認証を使用しているユーザーは、claude.ai で開始したセッションを VSCode から閲覧・再開できます。デスクトップとウェブの間でシームレスに作業を続けられます。",
      "category": "IDE"
    },
    {
      "t": "VSCode: セッションピッカーに git ブランチとメッセージ数を追加（ブランチ名での検索をサポート）",
      "tags": ["新機能", "IDE"],
      "detail": "VSCode のセッションピッカーに、各セッションの git ブランチ名とメッセージ数が表示されるようになりました。さらに、ブランチ名でセッションを検索できるため、特定のブランチで作業していたセッションを素早く見つけられます。",
      "category": "IDE"
    },
    {
      "t": "VSCode: 初回セッション読み込みとセッション切替時にスクロールトゥボトムが足りない問題を修正",
      "tags": ["IDE", "バグ修正"],
      "detail": "VSCode 拡張機能で、セッションの初回読み込み時やセッション切替時に、チャットビューが最下部まで自動スクロールしない（スクロールが足りない）問題が修正されました。最新のメッセージが確実に表示されるようになりました。",
      "category": "IDE"
    }
  ],
  "2.1.34": [
    {
      "t": "修正: エージェントチーム設定がレンダー間で変更された際のクラッシュ",
      "tags": ["バグ修正", "Agent"],
      "detail": "エージェントチーム機能を使用中に、チームの設定（メンバー構成やタスク割り当て）がレンダリングサイクル間で変更された際にクラッシュする問題が修正されました。React の状態管理とエージェントチームの設定更新のタイミングに不整合があったことが原因です。チームの動的な構成変更がより安定して行えるようになりました。",
      "category": "マルチエージェント"
    },
    {
      "t": "修正: サンドボックスから除外されたコマンド（sandbox.excludedCommands や dangerouslyDisableSandbox 経由）が autoAllowBashIfSandboxed 有効時に Bash ask パーミッションルールをバイパスできるバグ",
      "tags": ["Security", "バグ修正"],
      "detail": "セキュリティに関する重要な修正です。サンドボックスから除外されたコマンド（`sandbox.excludedCommands` や `dangerouslyDisableSandbox` で指定されたもの）が、`autoAllowBashIfSandboxed` 設定が有効な場合に、Bash コマンドの実行許可確認（ask パーミッション）をバイパスできてしまうバグが修正されました。\n\nこの問題により、サンドボックス外で実行されるコマンドが、ユーザーの確認なしに自動承認されるリスクがありました。修正後は、サンドボックスから除外されたコマンドに対しては、常にユーザーの明示的な許可が求められるようになりました。",
      "category": "セキュリティ"
    }
  ],
  "2.1.36": [
    {
      "t": "追加: Fast mode が Opus 4.6 で利用可能に（リサーチプレビュー）。/fast コマンドで切替可能。同じ Opus 4.6 モデルをより低レイテンシで利用でき、品質や機能は同一。料金は $30/$150 MTok（200K 未満）、$60/$225 MTok（200K 超）。2月16日まで全プラン50%割引。extra usage が必要で、Bedrock/Vertex/Foundry では利用不可",
      "tags": ["新機能", "Perf"],
      "detail": "Claude Code に Fast mode が追加されました（リサーチプレビュー）。`/fast` コマンドまたは設定ファイルの `\"fastMode\": true` で切り替えられます。\n\n**Fast mode とは：** 同じ Opus 4.6 モデルを、より高速な API 設定で利用する機能です。モデルの品質や機能は完全に同一で、レスポンスのレイテンシのみが改善されます。異なるモデルへの切り替えではありません。\n\n**料金体系：**\n- 200K トークン未満: 入力 $30/MTok、出力 $150/MTok\n- 200K トークン超: 入力 $60/MTok、出力 $225/MTok\n- 2月16日 (PT) まで全プラン50%割引\n- 1M トークンの拡張コンテキストウィンドウにも対応\n\n**利用条件：**\n- Pro/Max/Team/Enterprise のサブスクリプションプランまたは Anthropic Console API ユーザー\n- extra usage の有効化が必要（サブスクリプションのレート制限には含まれず、最初のトークンから fast mode 料金で課金）\n- Teams/Enterprise では管理者による明示的な有効化が必要\n- Amazon Bedrock、Google Vertex AI、Microsoft Azure Foundry では利用不可\n\n**レート制限：** Fast mode には通常の Opus 4.6 とは別のレート制限があります。制限に達すると自動的に通常モードにフォールバックし、`↯` アイコンがグレーに変わります。クールダウン期間が終了すると自動的に再有効化されます。\n\n**コスト最適化のヒント：** セッション途中で有効化すると、会話全体のコンテキストに対してキャッシュされていない入力トークン料金が発生します。コスト効率を最大化するには、セッション開始時に有効化することを推奨します。",
      "category": "パフォーマンス"
    }
  ],
  "2.1.37": [
    {
      "t": "修正: /extra-usage を有効にした直後に /fast が利用できない問題",
      "tags": ["バグ修正"],
      "detail": "`/extra-usage` コマンドで extra usage を有効にした直後に、`/fast` コマンドで Fast mode を有効化しようとしても即座に利用できない問題が修正されました。extra usage の有効化状態が即座に反映されるようになり、設定変更後すぐに Fast mode を利用開始できます。",
      "category": "コマンド"
    }
  ],
  "2.1.38": [
    {
      "t": "修正: 2.1.37 で発生した VS Code ターミナルのスクロールトゥトップのリグレッション",
      "tags": ["バグ修正", "IDE"],
      "detail": "バージョン 2.1.37 で導入されたリグレッションにより、VS Code 拡張機能のターミナルでスクロールトゥトップ（最上部へのスクロール）が正しく動作しなくなっていた問題が修正されました。ターミナル出力が長い場合に最上部へスクロールする操作が期待通りに機能するようになりました。",
      "category": "IDE"
    },
    {
      "t": "修正: Tab キーがオートコンプリートではなくスラッシュコマンドをキューイングしてしまう問題",
      "tags": ["バグ修正"],
      "detail": "Tab キーを押した際に、入力候補のオートコンプリート（補完）が実行される代わりに、スラッシュコマンドがキューに追加されてしまう問題が修正されました。Tab キーの入力ハンドリングの優先順位が見直され、オートコンプリート操作が正しく優先されるようになりました。",
      "category": "入力"
    },
    {
      "t": "修正: 環境変数ラッパーを使用したコマンドの bash パーミッションマッチング",
      "tags": ["バグ修正"],
      "detail": "環境変数ラッパー（例: `ENV_VAR=value command` のような形式）を使用した bash コマンドのパーミッションマッチングが正しく動作しない問題が修正されました。以前は環境変数のプレフィックスが付いたコマンドが、許可ルールと正しくマッチせず、不必要なパーミッション確認が発生することがありました。修正により、環境変数ラッパーを除いたコマンド本体に対してパーミッションルールが正しく適用されるようになりました。",
      "category": "パーミッション"
    },
    {
      "t": "修正: ストリーミング未使用時にツール使用間のテキストが消える問題",
      "tags": ["バグ修正"],
      "detail": "ストリーミングモードを使用していない環境（一部の API プロキシや SDK 利用時など）で、複数のツール呼び出しの間に Claude が出力したテキストが表示されずに消えてしまう問題が修正されました。非ストリーミングレスポンスの解析処理が改善され、ツール呼び出し間のテキストブロックが正しく保持・表示されるようになりました。",
      "category": "レンダリング"
    },
    {
      "t": "修正: VS Code 拡張機能でセッション再開時にセッションが重複する問題",
      "tags": ["バグ修正", "IDE"],
      "detail": "VS Code 拡張機能でセッションを再開（resume）する際に、同じセッションが重複して作成されてしまう問題が修正されました。セッション再開時のイベント処理に重複登録があり、1回の再開操作で複数のセッションインスタンスが生成されていたことが原因です。セッション管理ロジックが修正され、再開時に単一のセッションのみが正しく復元されるようになりました。",
      "category": "IDE"
    },
    {
      "t": "改善: コマンドスマグリング防止のための heredoc デリミタパースの強化",
      "tags": ["Security", "改善"],
      "detail": "Bash ツールにおける heredoc デリミタ（区切り文字）のパース処理が強化され、コマンドスマグリング（意図しないコマンドの注入）を防止するようになりました。heredoc 構文を悪用してサンドボックスやパーミッションチェックを迂回しようとする攻撃パターンが検出・ブロックされます。セキュリティの多層防御がさらに強化されました。",
      "category": "セキュリティ"
    },
    {
      "t": "サンドボックスモードで .claude/skills ディレクトリへの書き込みをブロック",
      "tags": ["Security"],
      "detail": "サンドボックスモードが有効な場合に、`.claude/skills` ディレクトリへの書き込みがブロックされるようになりました。スキルファイルはエージェントの動作を定義する重要なファイルであり、サンドボックス内のコードが意図せずスキルを作成・変更することを防ぎます。信頼されていないコードを実行する際のセキュリティが向上しました。",
      "category": "セキュリティ"
    }
  ],
  "2.1.39": [
    {
      "t": "追加: Claude Code セッション内から別の Claude Code を起動することを防止するガード",
      "tags": ["新機能", "Security"],
      "detail": "Claude Code のセッション内から別の Claude Code インスタンスを起動しようとした場合に、それを検出してブロックするガード機能が追加されました。ネストされた Claude Code セッションは予期しない動作やリソース競合を引き起こす可能性があるため、起動時に既存セッション内で実行されていないかをチェックします。これにより、エージェントが誤って再帰的に Claude Code を呼び出すことによる問題を未然に防止できます。",
      "category": "セキュリティ"
    },
    {
      "t": "修正: Bedrock / Vertex / Foundry ユーザーで Agent Teams が誤ったモデル識別子を使用する問題",
      "tags": ["バグ修正", "Platform", "Agent"],
      "detail": "Amazon Bedrock、Google Vertex AI、または Foundry 経由で Claude Code を利用しているユーザーが Agent Teams（マルチエージェント機能）を使用する際に、チームメンバーのエージェントに誤ったモデル識別子が渡されていた問題が修正されました。各プロバイダー固有のモデル ID フォーマットが正しくマッピングされるようになり、サードパーティプロバイダー経由でも Agent Teams が正常に動作するようになりました。",
      "category": "マルチエージェント"
    },
    {
      "t": "修正: ストリーミング中に MCP ツールが画像コンテンツを返すとクラッシュする問題",
      "tags": ["バグ修正"],
      "detail": "MCP（Model Context Protocol）ツールがストリーミングレスポンス中に画像コンテンツを返した場合にクラッシュが発生する問題が修正されました。ストリーミング処理において画像データの content type が適切にハンドリングされていなかったことが原因です。画像を返す MCP ツール（スクリーンショット取得ツールなど）をストリーミングモードで安定して使用できるようになりました。",
      "category": "MCP 連携"
    },
    {
      "t": "修正: /resume のセッションプレビューで生の XML タグが表示される問題",
      "tags": ["バグ修正"],
      "detail": "/resume コマンドでセッション一覧を表示する際、セッションプレビューに生の XML タグ（内部的なマークアップ）がそのまま表示され、読みにくくなっていた問題が修正されました。XML タグが適切にパースされ、コマンド名など人間が読める形式で表示されるようになりました。セッションの再開先を選択する際の視認性が向上しています。",
      "category": "UX"
    },
    {
      "t": "改善: Bedrock / Vertex / Foundry ユーザー向けのモデルエラーメッセージにフォールバック候補を表示",
      "tags": ["改善", "Platform"],
      "detail": "Amazon Bedrock、Google Vertex AI、Foundry 経由で利用しているユーザーがモデルエラーに遭遇した際のエラーメッセージが改善されました。単にエラーを表示するだけでなく、利用可能なフォールバックモデルの候補を提示するようになりました。これにより、モデルのアクセス権限やリージョン設定に問題がある場合でも、ユーザーが代替手段をすぐに見つけられるようになります。",
      "category": "プラットフォーム互換性"
    },
    {
      "t": "改善: ターミナルレンダリングのパフォーマンス向上",
      "tags": ["改善", "Perf"],
      "detail": "ターミナルの描画処理のパフォーマンスが向上しました。大量の出力を伴うコマンド実行時や、長いセッションでの操作時のレンダリング速度が改善され、よりスムーズな操作体験が得られるようになりました。特に、出力量の多い bash コマンドの結果表示やストリーミングレスポンスの描画で体感的な速度向上が期待できます。",
      "category": "パフォーマンス"
    },
    {
      "t": "修正: 致命的エラーが表示されずに握りつぶされる問題",
      "tags": ["バグ修正"],
      "detail": "致命的なエラー（fatal error）が発生した際に、エラーメッセージがユーザーに表示されずに内部で握りつぶされていた問題が修正されました。以前はエラーハンドリングの不具合により、原因不明のままセッションが終了することがありました。修正により、致命的エラーが適切にキャッチされてユーザーに表示されるようになり、問題の診断と報告が容易になりました。",
      "category": "安定性"
    },
    {
      "t": "修正: セッション終了後にプロセスがハングする問題",
      "tags": ["バグ修正"],
      "detail": "セッションを閉じた後に Claude Code のプロセスが終了せずにハング（応答なし状態）する問題が修正されました。セッション終了時のクリーンアップ処理で一部の非同期タスクが完了を待ち続けていたことが原因です。セッション終了後にプロセスが速やかに終了するようになり、ターミナルの制御がすぐに返されるようになりました。",
      "category": "安定性"
    },
    {
      "t": "修正: ターミナル画面境界で文字が欠落する問題",
      "tags": ["バグ修正"],
      "detail": "ターミナルの画面境界（スクリーンバッファの端）付近で文字が欠落・消失する問題が修正されました。特にターミナルウィンドウのリサイズ後や、長い行が画面幅を超える場合に発生しやすかった問題です。画面バッファの管理ロジックが改善され、境界条件での文字の描画が正しく行われるようになりました。",
      "category": "レンダリング"
    },
    {
      "t": "修正: verbose トランスクリプトビューで空行が表示される問題",
      "tags": ["バグ修正"],
      "detail": "verbose モードのトランスクリプトビュー（会話の詳細ログ表示）で、意図しない空行が挿入されて表示される問題が修正されました。トランスクリプトのフォーマット処理における空行の扱いが修正され、ログがより読みやすく表示されるようになりました。",
      "category": "レンダリング"
    }
  ]
}
